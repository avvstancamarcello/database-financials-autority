<!DOCTYPE html>
<html lang="it" prefix="og: https://ogp.me/ns#">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üåä Odissea Digitale - Il Viaggio dell'Eroe contro le Truffe Finanziarie</title>
    <meta name="description" content="Come Ulisse torn√≤ a Itaca, riconquista i tuoi capitali. Un viaggio attraverso le 12 fasi dell'Eroe per sconfiggere le truffe finanziarie.">
    <meta name="keywords" content="odissea digitale, recupero truffe, viaggio eroe campbell, pig butchering, mappa truffe europa, argonauti digitali, ulisse itaca, vello oro, MT4 truffa, whatsapp scam">
    <meta name="author" content="Avvocato Marcello Stanca">
    <link rel="canonical" href="https://tutelatruffe.it/odissea.html">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://tutelatruffe.it/odissea.html">
    <meta property="og:title" content="üåä Odissea Digitale | Dal Pig Butchering alla Riconquista del Vello d'Oro">
    <meta property="og:description" content="Le 12 Fasi del Viaggio dell'Eroe di Campbell applicate al recupero dalle truffe. Mappa europea geolocalizzata, badge Argonauti, testimonianze di chi ha recuperato. NON SEI UN PORCO. SEI UN EROE.">
    <meta property="og:image" content="https://tutelatruffe.it/icon-512.png">
    <meta property="og:image:width" content="512">
    <meta property="og:image:height" content="512">
    <meta property="og:image:alt" content="Odissea Digitale - Mappa Europea Truffe e Viaggio dell'Eroe">
    <meta property="og:site_name" content="Tutela Truffe - Odissea Digitale">
    <meta property="og:locale" content="it_IT">
    <meta property="article:author" content="Avvocato Marcello Stanca">
    <meta property="article:section" content="Recupero Truffe Finanziarie">
    <meta property="article:tag" content="Pig Butchering">
    <meta property="article:tag" content="Joseph Campbell">
    <meta property="article:tag" content="Mappa Truffe Europa">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://tutelatruffe.it/odissea.html">
    <meta name="twitter:title" content="üåä ODISSEA DIGITALE | Riconquista il Vello d'Oro">
    <meta name="twitter:description" content="Sei stato truffato? Segui le 12 Fasi dell'Eroe: da vittima a Argonauta. Mappa truffe geolocalizzata + testimonianze recupero. üê∑‚Üíüõ°Ô∏è">
    <meta name="twitter:image" content="https://tutelatruffe.it/icon-512.png">
    <meta name="twitter:image:alt" content="Odissea Digitale - Viaggio dell'Eroe contro Truffe">
    <meta name="twitter:creator" content="@marcellostanca">
    
    <!-- SEO Advanced -->
    <meta name="robots" content="index, follow, max-image-preview:large">
    <meta name="googlebot" content="index, follow">
    
    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#1a365d">
    
    <!-- Icons -->
    <link rel="icon" type="image/png" href="icon-192.png">
    <link rel="apple-touch-icon" href="icon-512.png">
    
    <!-- Leaflet Map CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" 
          integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" 
          crossorigin=""/>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --odyssey-blue: #1a365d;
            --odyssey-gold: #d4af37;
            --odyssey-wave: #2563eb;
            --odyssey-danger: #dc2626;
            --odyssey-success: #16a34a;
            --bg-light: #f8fafc;
            --text-dark: #1e293b;
            --text-light: #64748b;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: var(--text-dark);
            background: var(--bg-light);
        }

        /* Header Navigation */
        .nav-header {
            background: var(--odyssey-blue);
            color: white;
            padding: 1rem 2rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--odyssey-gold);
            text-decoration: none;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
        }

        .nav-links a {
            color: white;
            text-decoration: none;
            transition: color 0.3s;
        }

        .nav-links a:hover {
            color: var(--odyssey-gold);
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, var(--odyssey-blue) 0%, var(--odyssey-wave) 100%);
            color: white;
            padding: 6rem 2rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: 'üåä';
            position: absolute;
            font-size: 20rem;
            opacity: 0.1;
            top: -5rem;
            right: -5rem;
            animation: wave 20s infinite ease-in-out;
        }

        @keyframes wave {
            0%, 100% { transform: rotate(0deg) translateY(0); }
            50% { transform: rotate(5deg) translateY(-20px); }
        }

        .hero-content {
            max-width: 900px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        .hero h1 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .hero-subtitle {
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            color: var(--odyssey-gold);
            font-style: italic;
        }

        .hero-quote {
            font-size: 1.3rem;
            margin-bottom: 3rem;
            opacity: 0.95;
            font-weight: 300;
        }

        .cta-button {
            display: inline-block;
            background: var(--odyssey-gold);
            color: var(--odyssey-blue);
            padding: 1.2rem 3rem;
            font-size: 1.2rem;
            font-weight: bold;
            text-decoration: none;
            border-radius: 50px;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(212, 175, 55, 0.4);
        }

        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(212, 175, 55, 0.6);
        }

        /* Main Content */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 4rem 2rem;
        }

        .section {
            margin-bottom: 5rem;
        }

        .section-title {
            font-size: 2.5rem;
            color: var(--odyssey-blue);
            margin-bottom: 1rem;
            text-align: center;
            position: relative;
            padding-bottom: 1rem;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background: var(--odyssey-gold);
        }

        .section-subtitle {
            text-align: center;
            font-size: 1.2rem;
            color: var(--text-light);
            margin-bottom: 3rem;
        }

        /* Hero's Journey Timeline */
        .journey-timeline {
            position: relative;
            padding: 2rem 0;
        }

        .journey-phase {
            display: grid;
            grid-template-columns: 1fr 80px 1fr;
            gap: 2rem;
            margin-bottom: 3rem;
            align-items: center;
        }

        .journey-phase:nth-child(even) {
            direction: rtl;
        }

        .journey-phase:nth-child(even) .phase-content {
            direction: ltr;
        }

        .phase-content {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            transition: all 0.3s;
            cursor: pointer;
        }

        .phase-content:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }

        .phase-content.completed {
            border: 3px solid var(--odyssey-success);
            background: #f0fdf4;
        }

        .phase-content.current {
            border: 3px solid var(--odyssey-gold);
            background: #fffbeb;
        }

        .phase-number {
            font-size: 0.9rem;
            color: var(--odyssey-gold);
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .phase-title {
            font-size: 1.5rem;
            color: var(--odyssey-blue);
            margin-bottom: 0.5rem;
        }

        .phase-description {
            color: var(--text-light);
            margin-bottom: 1rem;
        }

        .phase-action {
            font-size: 0.9rem;
            color: var(--odyssey-wave);
            font-weight: 600;
        }

        .phase-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--odyssey-blue), var(--odyssey-wave));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
            position: relative;
        }

        .phase-icon::after {
            content: '';
            position: absolute;
            top: 80px;
            left: 50%;
            transform: translateX(-50%);
            width: 3px;
            height: 80px;
            background: linear-gradient(to bottom, var(--odyssey-wave), transparent);
        }

        .journey-phase:last-child .phase-icon::after {
            display: none;
        }

        .phase-checkbox {
            margin-top: 1rem;
        }

        .phase-checkbox input {
            margin-right: 0.5rem;
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .phase-checkbox label {
            cursor: pointer;
            font-weight: 600;
            color: var(--odyssey-blue);
        }

        /* Mythical Trials */
        .trials-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .trial-card {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            transition: all 0.3s;
        }

        .trial-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }

        .trial-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            display: block;
        }

        .trial-title {
            font-size: 1.5rem;
            color: var(--odyssey-blue);
            margin-bottom: 1rem;
        }

        .trial-myth {
            font-style: italic;
            color: var(--odyssey-gold);
            margin-bottom: 1rem;
        }

        .trial-modern {
            color: var(--text-light);
            margin-bottom: 1rem;
        }

        .trial-defense {
            background: var(--bg-light);
            padding: 1rem;
            border-radius: 8px;
            border-left: 4px solid var(--odyssey-success);
        }

        .trial-defense strong {
            color: var(--odyssey-success);
        }

        /* Argonauts Badge System */
        .badges-container {
            background: white;
            padding: 3rem;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .badges-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .badge-card {
            text-align: center;
            padding: 2rem;
            border: 3px solid #e2e8f0;
            border-radius: 12px;
            transition: all 0.3s;
        }

        .badge-card:hover {
            border-color: var(--odyssey-gold);
            transform: scale(1.05);
        }

        .badge-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
            display: block;
        }

        .badge-name {
            font-size: 1.5rem;
            color: var(--odyssey-blue);
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .badge-requirement {
            color: var(--text-light);
            margin-bottom: 1rem;
        }

        .badge-description {
            font-style: italic;
            color: var(--odyssey-gold);
            font-size: 0.9rem;
        }

        .badge-card.unlocked {
            background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%);
            border-color: var(--odyssey-gold);
        }

        /* Testimonials */
        .testimonials-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .testimonial-card {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border-left: 5px solid var(--odyssey-gold);
        }

        .testimonial-quote {
            font-size: 1.1rem;
            font-style: italic;
            color: var(--text-dark);
            margin-bottom: 1.5rem;
            line-height: 1.8;
        }

        .testimonial-author {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .author-badge {
            font-size: 2.5rem;
        }

        .author-info {
            flex: 1;
        }

        .author-name {
            font-weight: bold;
            color: var(--odyssey-blue);
        }

        .author-status {
            color: var(--odyssey-gold);
            font-size: 0.9rem;
        }

        .recovery-amount {
            background: var(--odyssey-success);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9rem;
        }

        /* Report Form */
        .report-form {
            background: white;
            padding: 3rem;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            max-width: 700px;
            margin: 3rem auto;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--odyssey-blue);
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--odyssey-wave);
        }

        .form-group textarea {
            min-height: 120px;
            resize: vertical;
        }

        .submit-button {
            background: var(--odyssey-blue);
            color: white;
            padding: 1rem 3rem;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            width: 100%;
        }

        .submit-button:hover {
            background: var(--odyssey-wave);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(37, 99, 235, 0.4);
        }

        /* Progress Tracker */
        .progress-tracker {
            background: linear-gradient(135deg, var(--odyssey-blue), var(--odyssey-wave));
            color: white;
            padding: 2rem;
            border-radius: 12px;
            margin-bottom: 3rem;
            text-align: center;
        }

        .progress-stats {
            display: flex;
            justify-content: space-around;
            margin-top: 2rem;
            flex-wrap: wrap;
            gap: 2rem;
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 3rem;
            font-weight: bold;
            color: var(--odyssey-gold);
        }

        .stat-label {
            font-size: 1rem;
            opacity: 0.9;
        }

        /* Footer */
        .footer {
            background: var(--odyssey-blue);
            color: white;
            padding: 3rem 2rem;
            text-align: center;
        }

        .footer-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .footer-links a {
            color: white;
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-links a:hover {
            color: var(--odyssey-gold);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.5rem;
            }

            .hero-subtitle {
                font-size: 1.3rem;
            }

            .hero-quote {
                font-size: 1rem;
            }

            .journey-phase {
                grid-template-columns: 60px 1fr;
                gap: 1rem;
            }

            .journey-phase:nth-child(even) {
                direction: ltr;
            }

            .phase-icon {
                width: 60px;
                height: 60px;
                font-size: 2rem;
            }

            .trials-grid,
            .badges-grid,
            .testimonials-grid {
                grid-template-columns: 1fr;
            }

            .nav-links {
                flex-direction: column;
                gap: 0.5rem;
            }

            .progress-stats {
                flex-direction: column;
                gap: 1rem;
            }
        }

        .alert-box {
            background: #fef2f2;
            border-left: 4px solid var(--odyssey-danger);
            padding: 1.5rem;
            border-radius: 8px;
            margin: 2rem 0;
        }

        .alert-box strong {
            color: var(--odyssey-danger);
        }

        /* European Scam Map */
        .map-container {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            margin-bottom: 3rem;
        }

        #scam-map {
            height: 600px;
            width: 100%;
            border-radius: 8px;
            margin-top: 2rem;
        }

        .map-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .map-stat-card {
            background: linear-gradient(135deg, var(--odyssey-blue), var(--odyssey-wave));
            color: white;
            padding: 1.5rem;
            border-radius: 8px;
            text-align: center;
        }

        .map-stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--odyssey-gold);
        }

        .map-stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
            margin-top: 0.5rem;
        }

        .leaflet-popup-content {
            font-family: inherit;
        }

        .popup-title {
            font-weight: bold;
            color: var(--odyssey-danger);
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
        }

        .popup-info {
            margin: 0.3rem 0;
            font-size: 0.9rem;
        }

        .popup-info strong {
            color: var(--odyssey-blue);
        }

        /* Expanded Form Sections */
        .form-section {
            background: #f8fafc;
            padding: 1.5rem;
            border-radius: 8px;
            margin-bottom: 1.5rem;
            border-left: 4px solid var(--odyssey-gold);
        }

        .form-section-title {
            font-size: 1.2rem;
            color: var(--odyssey-blue);
            font-weight: bold;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
        }

        .info-box {
            background: #eff6ff;
            border: 1px solid var(--odyssey-wave);
            padding: 1rem;
            border-radius: 8px;
            font-size: 0.9rem;
            margin-top: 0.5rem;
        }

        .info-box strong {
            color: var(--odyssey-wave);
        }

        .collapsible-section {
            margin-top: 1rem;
        }

        .collapsible-header {
            background: var(--odyssey-gold);
            color: var(--odyssey-blue);
            padding: 1rem;
            cursor: pointer;
            border-radius: 8px;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s;
        }

        .collapsible-header:hover {
            background: #c19b2f;
        }

        .collapsible-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
            background: white;
            border-radius: 0 0 8px 8px;
        }

        .collapsible-content.active {
            max-height: 2000px;
            padding: 1rem;
            border: 2px solid var(--odyssey-gold);
            border-top: none;
        }

        .code-example {
            background: #1e293b;
            color: #e2e8f0;
            padding: 1rem;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
            overflow-x: auto;
            margin: 0.5rem 0;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="nav-header">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">üåä Odissea Digitale</a>
            <ul class="nav-links">
                <li><a href="index.html">Database Autorit√†</a></li>
                <li><a href="#viaggio">Il Viaggio</a></li>
                <li><a href="#prove">Le Prove</a></li>
                <li><a href="#mappa">Mappa Truffe</a></li>
                <li><a href="#argonauti">Argonauti</a></li>
                <li><a href="#segnala">Segnala</a></li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1>üåä ODISSEA DIGITALE</h1>
            <p class="hero-subtitle">Dalla Truffa alla Riconquista</p>
            <p class="hero-quote">"Come Ulisse torn√≤ a Itaca,<br>riporterai i tuoi capitali a casa."</p>
            <a href="#viaggio" class="cta-button">INIZIA IL VIAGGIO</a>
        </div>
    </section>

    <!-- Progress Tracker -->
    <div class="container">
        <div class="progress-tracker">
            <h2>üìä Il Tuo Progresso nell'Odissea</h2>
            <div class="progress-stats">
                <div class="stat-item">
                    <div class="stat-number" id="completed-phases">0</div>
                    <div class="stat-label">Fasi Completate</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="trials-overcome">0</div>
                    <div class="stat-label">Prove Superate</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="current-badge">Marinaio</div>
                    <div class="stat-label">Rango Attuale</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Hero's Journey Section -->
    <div class="container">
        <section id="viaggio" class="section">
            <h2 class="section-title">üó∫Ô∏è Il Viaggio dell'Eroe</h2>
            <p class="section-subtitle">Le 12 Fasi di Campbell applicate al recupero dai truffatori</p>

            <div class="journey-timeline">
                <!-- ATTO I: PARTENZA -->
                <div class="journey-phase">
                    <div class="phase-content" data-phase="1">
                        <div class="phase-number">FASE 1 - Mondo Ordinario</div>
                        <h3 class="phase-title">üè† La Vita Prima della Tempesta</h3>
                        <p class="phase-description">La tua quotidianit√† serena, prima che i truffatori entrassero nella tua vita. Risparmi accumulati, progetti per il futuro, fiducia nel sistema.</p>
                        <p class="phase-action">üìù Descrivi la tua situazione finanziaria prima della truffa</p>
                        <div class="phase-checkbox">
                            <input type="checkbox" id="phase1" onchange="updateProgress()">
                            <label for="phase1">Ho completato questa fase</label>
                        </div>
                    </div>
                    <div class="phase-icon">üè†</div>
                    <div></div>
                </div>

                <div class="journey-phase">
                    <div></div>
                    <div class="phase-icon">üìû</div>
                    <div class="phase-content" data-phase="2">
                        <div class="phase-number">FASE 2 - Chiamata all'Avventura</div>
                        <h3 class="phase-title">üéµ Il Canto delle Sirene</h3>
                        <p class="phase-description">La telefonata, l'email, il messaggio che promette guadagni straordinari. Come le Sirene di Omero, una voce irresistibile che seduce la ragione.</p>
                        <p class="phase-action">üìù Descrivi come sei stato contattato</p>
                        <div class="phase-checkbox">
                            <input type="checkbox" id="phase2" onchange="updateProgress()">
                            <label for="phase2">Ho completato questa fase</label>
                        </div>
                    </div>
                </div>

                <div class="journey-phase">
                    <div class="phase-content" data-phase="3">
                        <div class="phase-number">FASE 3 - Rifiuto della Chiamata</div>
                        <h3 class="phase-title">ü§î Il Dubbio Iniziale</h3>
                        <p class="phase-description">"Sembra troppo bello per essere vero..." Il tuo istinto ti avverte, ma i Fiori di Loto dei truffatori addormentano il giudizio critico.</p>
                        <p class="phase-action">üìù Quali dubbi hai ignorato?</p>
                        <div class="phase-checkbox">
                            <input type="checkbox" id="phase3" onchange="updateProgress()">
                            <label for="phase3">Ho completato questa fase</label>
                        </div>
                    </div>
                    <div class="phase-icon">ü§î</div>
                    <div></div>
                </div>

                <div class="journey-phase">
                    <div></div>
                    <div class="phase-icon">ü¶â</div>
                    <div class="phase-content" data-phase="4">
                        <div class="phase-number">FASE 4 - Incontro col Mentore</div>
                        <h3 class="phase-title">ü¶â La Guida di Atena</h3>
                        <p class="phase-description">Trovi il Database Financial Authority, consulti un avvocato, scopri le associazioni consumatori. La dea della saggezza ti offre gli strumenti per navigare.</p>
                        <p class="phase-action">üìù Chi/cosa ti ha guidato nella reazione?</p>
                        <div class="phase-checkbox">
                            <input type="checkbox" id="phase4" onchange="updateProgress()">
                            <label for="phase4">Ho completato questa fase</label>
                        </div>
                    </div>
                </div>

                <div class="journey-phase">
                    <div class="phase-content" data-phase="5">
                        <div class="phase-number">FASE 5 - Varco della Prima Soglia</div>
                        <h3 class="phase-title">üê∑ La Trasformazione di Circe</h3>
                        <p class="phase-description">Il primo bonifico. Sei diventato un "porco da macello" nel gergo FBI del "Pig Butchering". Non c'√® pi√π ritorno alla normalit√† precedente.</p>
                        <p class="phase-action">üìù Quando hai capito di essere stato truffato?</p>
                        <div class="phase-checkbox">
                            <input type="checkbox" id="phase5" onchange="updateProgress()">
                            <label for="phase5">Ho completato questa fase</label>
                        </div>
                    </div>
                    <div class="phase-icon">üê∑</div>
                    <div></div>
                </div>

                <!-- ATTO II: INIZIAZIONE -->
                <div class="journey-phase">
                    <div></div>
                    <div class="phase-icon">‚öîÔ∏è</div>
                    <div class="phase-content" data-phase="6">
                        <div class="phase-number">FASE 6 - Prove, Alleati, Nemici</div>
                        <h3 class="phase-title">‚öîÔ∏è L'Isola di Eolo</h3>
                        <p class="phase-description">Incontri chi ti aiuta (associazioni, altri truffati) e chi ostacola (banche non collaborative, lungaggini burocratiche). Raccogli prove, documenti, screenshot.</p>
                        <p class="phase-action">üìù Chi hai trovato sul tuo cammino?</p>
                        <div class="phase-checkbox">
                            <input type="checkbox" id="phase6" onchange="updateProgress()">
                            <label for="phase6">Ho completato questa fase</label>
                        </div>
                    </div>
                </div>

                <div class="journey-phase">
                    <div class="phase-content" data-phase="7">
                        <div class="phase-number">FASE 7 - Avvicinamento alla Caverna</div>
                        <h3 class="phase-title">üìã Preparazione alla Battaglia</h3>
                        <p class="phase-description">Organizzi la documentazione, prepari la denuncia/reclamo, studi le normative. Ti avvicini all'ingresso del Labirinto del Minotauro (il sistema legale).</p>
                        <p class="phase-action">üìù Come hai preparato la tua difesa?</p>
                        <div class="phase-checkbox">
                            <input type="checkbox" id="phase7" onchange="updateProgress()">
                            <label for="phase7">Ho completato questa fase</label>
                        </div>
                    </div>
                    <div class="phase-icon">üìã</div>
                    <div></div>
                </div>

                <div class="journey-phase">
                    <div></div>
                    <div class="phase-icon">üêÇ</div>
                    <div class="phase-content" data-phase="8">
                        <div class="phase-number">FASE 8 - Prova Centrale</div>
                        <h3 class="phase-title">üêÇ Il Minotauro nel Labirinto</h3>
                        <p class="phase-description">Entri nel tribunale, ABF, conciliazione bancaria. Affronti il sistema che vuole divorare la tua speranza. Questa √® la battaglia decisiva.</p>
                        <p class="phase-action">üìù Quale procedura hai avviato?</p>
                        <div class="phase-checkbox">
                            <input type="checkbox" id="phase8" onchange="updateProgress()">
                            <label for="phase8">Ho completato questa fase</label>
                        </div>
                    </div>
                </div>

                <div class="journey-phase">
                    <div class="phase-content" data-phase="9">
                        <div class="phase-number">FASE 9 - Ricompensa</div>
                        <h3 class="phase-title">‚öñÔ∏è La Sentenza di Dike</h3>
                        <p class="phase-description">Ottieni una sentenza favorevole, un accordo di conciliazione, il riconoscimento del torto subito. La dea della Giustizia ti sorride.</p>
                        <p class="phase-action">üìù Quale risultato hai ottenuto?</p>
                        <div class="phase-checkbox">
                            <input type="checkbox" id="phase9" onchange="updateProgress()">
                            <label for="phase9">Ho completato questa fase</label>
                        </div>
                    </div>
                    <div class="phase-icon">‚öñÔ∏è</div>
                    <div></div>
                </div>

                <!-- ATTO III: RITORNO -->
                <div class="journey-phase">
                    <div></div>
                    <div class="phase-icon">üö¢</div>
                    <div class="phase-content" data-phase="10">
                        <div class="phase-number">FASE 10 - Via del Ritorno</div>
                        <h3 class="phase-title">üö¢ La Navigazione verso Itaca</h3>
                        <p class="phase-description">Esecuzione del recupero crediti, negoziazioni finali, ultimi ostacoli burocratici. Il viaggio di ritorno a casa pu√≤ essere insidioso quanto l'andata.</p>
                        <p class="phase-action">üìù Come stai recuperando i fondi?</p>
                        <div class="phase-checkbox">
                            <input type="checkbox" id="phase10" onchange="updateProgress()">
                            <label for="phase10">Ho completato questa fase</label>
                        </div>
                    </div>
                </div>

                <div class="journey-phase">
                    <div class="phase-content" data-phase="11">
                        <div class="phase-number">FASE 11 - Resurrezione</div>
                        <h3 class="phase-title">üí∞ Il Vello d'Oro Riconquistato</h3>
                        <p class="phase-description">Recuperi parzialmente o totalmente i tuoi capitali. Come gli Argonauti, torni con il tesoro. Rinasci finanziariamente ed emotivamente.</p>
                        <p class="phase-action">üìù Quanto hai recuperato?</p>
                        <div class="phase-checkbox">
                            <input type="checkbox" id="phase11" onchange="updateProgress()">
                            <label for="phase11">Ho completato questa fase</label>
                        </div>
                    </div>
                    <div class="phase-icon">üí∞</div>
                    <div></div>
                </div>

                <div class="journey-phase">
                    <div></div>
                    <div class="phase-icon">üèõÔ∏è</div>
                    <div class="phase-content" data-phase="12">
                        <div class="phase-number">FASE 12 - Ritorno con l'Elisir</div>
                        <h3 class="phase-title">üèõÔ∏è L'Argonauta che Guida Altri</h3>
                        <p class="phase-description">Diventi mentore per altre vittime, condividi la tua storia, aiuti la comunit√†. Trasformi il trauma in saggezza, la sconfitta in missione.</p>
                        <p class="phase-action">üìù Come aiuterai altri naviganti?</p>
                        <div class="phase-checkbox">
                            <input type="checkbox" id="phase12" onchange="updateProgress()">
                            <label for="phase12">Ho completato questa fase</label>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Mythical Trials Section -->
        <section id="prove" class="section">
            <h2 class="section-title">‚ö° Le Prove Mitologiche</h2>
            <p class="section-subtitle">Ogni eroe deve affrontare mostri e inganni. Ecco come riconoscerli e superarli.</p>

            <div class="trials-grid">
                <!-- Sirens Trial -->
                <div class="trial-card">
                    <span class="trial-icon">üéµ</span>
                    <h3 class="trial-title">Le Sirene Telefoniche</h3>
                    <p class="trial-myth">"Nessun mortale resisteva al loro canto..."</p>
                    <p class="trial-modern">Chiamate da presunti broker, promesse di guadagni garantiti, pressione psicologica per "investire subito".</p>
                    <div class="trial-defense">
                        <strong>üõ°Ô∏è La Difesa di Ulisse:</strong> Come Ulisse si fece legare all'albero, tu verifica SEMPRE nel Database Financial Authority prima di qualsiasi bonifico. Metti "palline di cera" (filtri anti-spam) alle tue orecchie.
                    </div>
                </div>

                <!-- Circe Trial -->
                <div class="trial-card">
                    <span class="trial-icon">üê∑</span>
                    <h3 class="trial-title">Circe: Il Pig Butchering</h3>
                    <p class="trial-myth">"Circe tocc√≤ i marinai con la bacchetta e li trasform√≤ in porci..."</p>
                    <p class="trial-modern">I truffatori FBI chiamano le vittime "maiali da macellare". Ti ingrassano con piccoli guadagni iniziali, poi ti spennano completamente.</p>
                    <div class="trial-defense">
                        <strong>üõ°Ô∏è L'Erba Magica:</strong> Educazione finanziaria, second opinion da esperti indipendenti, diffidare di "troppo bello per essere vero".
                    </div>
                </div>

                <!-- Lotus Eaters Trial -->
                <div class="trial-card">
                    <span class="trial-icon">üå∏</span>
                    <h3 class="trial-title">I Fiori di Loto</h3>
                    <p class="trial-myth">"Chi mangiava il loto perdeva memoria e desiderio di tornare a casa..."</p>
                    <p class="trial-modern">Manipolazione psicologica: ti fanno credere che il problema non esiste, che "recupererai presto", intanto passano i 60 giorni per il chargeback.</p>
                    <div class="trial-defense">
                        <strong>üõ°Ô∏è La Lucidit√†:</strong> Segna le date critiche (60gg bonifico, prescrizione), consulta subito un avvocato, non fidarti delle "rassicurazioni" del truffatore.
                    </div>
                </div>

                <!-- Labyrinth Trial -->
                <div class="trial-card">
                    <span class="trial-icon">üèõÔ∏è</span>
                    <h3 class="trial-title">Il Labirinto di Minosse</h3>
                    <p class="trial-myth">"Entravi facilmente, ma uscire era impossibile..."</p>
                    <p class="trial-modern">Burocrazia infinita: ABF, Conciliazione, Tribunale. Ogni procedura ha tempi biblici, costi elevati, esiti incerti.</p>
                    <div class="trial-defense">
                        <strong>üõ°Ô∏è Il Filo di Arianna:</strong> Associazioni consumatori, avvocati specializzati, class action collettive. Non affrontare il labirinto da solo.
                    </div>
                </div>

                <!-- Minotaur Trial -->
                <div class="trial-card">
                    <span class="trial-icon">üêÇ</span>
                    <h3 class="trial-title">Il Minotauro Bancario</h3>
                    <p class="trial-myth">"Il mostro divorava i giovani ateniesi nel cuore del labirinto..."</p>
                    <p class="trial-modern">Banche che negano responsabilit√†, rifiutano chargeback, scaricano colpe sulla vittima ("dovevi verificare tu").</p>
                    <div class="trial-defense">
                        <strong>üõ°Ô∏è La Spada di Teseo:</strong> Normative PSD2 (responsabilit√† banca in caso di truffa), sentenze favorevoli gi√† ottenute, petizioni al Parlamento Europeo.
                    </div>
                </div>

                <!-- Golden Fleece Trial -->
                <div class="trial-card">
                    <span class="trial-icon">üí∞</span>
                    <h3 class="trial-title">Il Vello d'Oro</h3>
                    <p class="trial-myth">"Gli Argonauti affrontarono draghi e mari in tempesta per riconquistarlo..."</p>
                    <p class="trial-modern">Il recupero dei tuoi capitali richiede perseveranza, alleanze, strategie multiple (penale, civile, conciliazione, pressione mediatica).</p>
                    <div class="trial-defense">
                        <strong>üõ°Ô∏è La Strategia Jason:</strong> Multi-approccio: denuncia penale + ABF + tribunale civile + esposto Consob + petizione Europarlamento. Aumenti le probabilit√† di recupero.
                    </div>
                </div>
            </div>
        </section>

        <!-- European Scam Map Section -->
        <section id="mappa" class="section">
            <h2 class="section-title">üó∫Ô∏è Mappa Europea delle Truffe</h2>
            <p class="section-subtitle">Geolocalizzazione delle sedi apparenti dei truffatori. Ogni pin √® un Argonauta che ha segnalato.</p>

            <div class="map-container">
                <div class="map-stats">
                    <div class="map-stat-card">
                        <div class="map-stat-number" id="total-reports">0</div>
                        <div class="map-stat-label">Truffe Segnalate</div>
                    </div>
                    <div class="map-stat-card">
                        <div class="map-stat-number" id="countries-affected">0</div>
                        <div class="map-stat-label">Paesi Coinvolti</div>
                    </div>
                    <div class="map-stat-card">
                        <div class="map-stat-number" id="total-amount-lost">‚Ç¨0</div>
                        <div class="map-stat-label">Capitali Sottratti</div>
                    </div>
                    <div class="map-stat-card">
                        <div class="map-stat-number" id="argonauts-count">0</div>
                        <div class="map-stat-label">Argonauti Attivi</div>
                    </div>
                </div>

                <div id="scam-map"></div>

                <div class="alert-box" style="margin-top: 2rem;">
                    <strong>üõ°Ô∏è Nota Importante:</strong> Le segnalazioni mostrano solo le <strong>sedi dichiarate dai truffatori</strong> nelle loro pagine web fraudolente. Queste sono quasi sempre fittizie. L'obiettivo √® mappare le strategie di inganno geografico, NON perseguire individui.
                </div>
            </div>
        </section>

        <!-- Argonauts Badge System -->
        <section id="argonauti" class="section">
            <h2 class="section-title">üèÖ I Ranghi degli Argonauti</h2>
            <p class="section-subtitle">Ogni segnalazione di truffa ti avvicina al Vello d'Oro. Scala la gerarchia degli eroi.</p>

            <div class="badges-container">
                <div class="badges-grid">
                    <!-- Marinaio Badge -->
                    <div class="badge-card" id="badge-marinaio">
                        <span class="badge-icon">üéØ</span>
                        <div class="badge-name">Marinaio</div>
                        <div class="badge-requirement">0-5 segnalazioni</div>
                        <div class="badge-description">"Hai messo le palline di cera nelle orecchie contro le Sirene"</div>
                    </div>

                    <!-- Timoniere Badge -->
                    <div class="badge-card" id="badge-timoniere">
                        <span class="badge-icon">‚öì</span>
                        <div class="badge-name">Timoniere</div>
                        <div class="badge-requirement">6-20 segnalazioni</div>
                        <div class="badge-description">"Hai spezzato un remo del Minotauro aiutando altri"</div>
                    </div>

                    <!-- Argonauta Badge -->
                    <div class="badge-card" id="badge-argonauta">
                        <span class="badge-icon">üõ°Ô∏è</span>
                        <div class="badge-name">Argonauta</div>
                        <div class="badge-requirement">21-50 segnalazioni</div>
                        <div class="badge-description">"Hai conquistato un frammento del Vello d'Oro"</div>
                    </div>

                    <!-- Eroe Badge -->
                    <div class="badge-card" id="badge-eroe">
                        <span class="badge-icon">üëë</span>
                        <div class="badge-name">Eroe di Itaca</div>
                        <div class="badge-requirement">51+ segnalazioni</div>
                        <div class="badge-description">"Indossi la corona d'alloro di Ulisse, guida per tutti i naviganti"</div>
                    </div>
                </div>

                <div class="alert-box" style="margin-top: 2rem;">
                    <strong>‚ö†Ô∏è Importante:</strong> Le segnalazioni devono riguardare SOLO informazioni pubbliche (numeri di telefono, email, siti web di truffatori gi√† denunciati). NO vigilantismo, NO dati personali privati. Solo mutuo soccorso legale.
                </div>
            </div>
        </section>

        <!-- Testimonials Section -->
        <section class="section">
            <h2 class="section-title">üìú Le Cronache dei Reduci</h2>
            <p class="section-subtitle">Storie vere di chi ha completato l'Odissea e riconquistato il Vello d'Oro</p>

            <div class="testimonials-grid">
                <div class="testimonial-card">
                    <p class="testimonial-quote">"Ero diventato un porco da macello per Circe-truffatori. Mi promettevano guadagni del 40% mensile sul Forex. Ho perso ‚Ç¨47.000 in 6 mesi. Ma come Ulisse, ho trovato la via del ritorno grazie al Database e all'ABF. Oggi ho recuperato il 70% del capitale."</p>
                    <div class="testimonial-author">
                        <span class="author-badge">üõ°Ô∏è</span>
                        <div class="author-info">
                            <div class="author-name">Marco T.</div>
                            <div class="author-status">Argonauta - Fase 11/12 completate</div>
                        </div>
                        <div class="recovery-amount">‚Ç¨32.900 recuperati</div>
                    </div>
                </div>

                <div class="testimonial-card">
                    <p class="testimonial-quote">"Il canto delle Sirene mi aveva conquistato: 'Investimento sicuro in criptovalute'. Dopo il primo bonifico da ‚Ç¨15.000, ho capito di essere nel Labirinto. Ma con il filo di Arianna delle associazioni consumatori, ho trovato l'uscita. Sentenza favorevole del tribunale."</p>
                    <div class="testimonial-author">
                        <span class="author-badge">‚öì</span>
                        <div class="author-info">
                            <div class="author-name">Giulia R.</div>
                            <div class="author-status">Timoniere - Fase 9/12 completate</div>
                        </div>
                        <div class="recovery-amount">‚Ç¨15.000 sentenza</div>
                    </div>
                </div>

                <div class="testimonial-card">
                    <p class="testimonial-quote">"I Fiori di Loto avevano cancellato il mio giudizio critico. 'Ancora un bonifico e recuperi tutto' mi dicevano. Ho perso ‚Ç¨23.000. Ma l'incontro con Atena (il mentore avvocato) mi ha salvato. Conciliazione bancaria PSD2: la banca ha riconosciuto la sua negligenza."</p>
                    <div class="testimonial-author">
                        <span class="author-badge">üëë</span>
                        <div class="author-info">
                            <div class="author-name">Alessandro M.</div>
                            <div class="author-status">Eroe di Itaca - 12/12 completate</div>
                        </div>
                        <div class="recovery-amount">‚Ç¨18.400 recuperati</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Report Form Section -->
        <section id="segnala" class="section">
            <h2 class="section-title">üö® Arruolati negli Argonauti</h2>
            <p class="section-subtitle">Segnala la tua truffa e inizia il viaggio verso Itaca. Diventa parte della flotta.</p>

            <div class="report-form">
                <form id="odyssey-form">
                    <!-- SECTION 1: Current Phase -->
                    <div class="form-section">
                        <div class="form-section-title">
                            <span>üìç</span>
                            <span>Il Tuo Viaggio nell'Odissea</span>
                        </div>
                        <div class="form-group">
                            <label for="current-phase">In quale Fase ti trovi?</label>
                            <select id="current-phase" required>
                                <option value="">Seleziona...</option>
                                <option value="1">Fase 1 - Mondo Ordinario (pre-truffa)</option>
                                <option value="2">Fase 2 - Canto delle Sirene (primo contatto)</option>
                                <option value="3">Fase 3 - Dubbi ignorati</option>
                                <option value="4">Fase 4 - Ho trovato una guida</option>
                                <option value="5">Fase 5 - Primo bonifico (trasformato in "porco")</option>
                                <option value="6">Fase 6 - Raccolta prove e alleati</option>
                                <option value="7">Fase 7 - Preparazione denuncia</option>
                                <option value="8">Fase 8 - Nel Labirinto (tribunale/ABF)</option>
                                <option value="9">Fase 9 - Sentenza/accordo ottenuto</option>
                                <option value="10">Fase 10 - Recupero in corso</option>
                                <option value="11">Fase 11 - Capitale recuperato</option>
                                <option value="12">Fase 12 - Aiuto altri naviganti</option>
                            </select>
                        </div>
                    </div>

                    <!-- SECTION 2: Scam Type & Amount -->
                    <div class="form-section">
                        <div class="form-section-title">
                            <span>üê∑</span>
                            <span>Tipo di Truffa e Danno</span>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="scam-type">Quale "Circe" ti ha trasformato?</label>
                                <select id="scam-type" required>
                                    <option value="">Seleziona...</option>
                                    <option value="forex">Trading Forex/CFD falso</option>
                                    <option value="crypto">Investimenti criptovalute</option>
                                    <option value="broker">Broker non autorizzato</option>
                                    <option value="ponzi">Schema Ponzi/Piramide</option>
                                    <option value="romance">Romance Scam + investimenti</option>
                                    <option value="phishing">Phishing bancario</option>
                                    <option value="investment">Falsi investimenti immobiliari/startup</option>
                                    <option value="other">Altro tipo di truffa</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="amount-lost">Vello d'Oro da riconquistare (‚Ç¨)</label>
                                <input type="number" id="amount-lost" min="0" step="100" placeholder="Es: 15000">
                            </div>
                        </div>
                    </div>

                    <!-- SECTION 3: Scammer Company Details -->
                    <div class="form-section">
                        <div class="form-section-title">
                            <span>üè¢</span>
                            <span>Dati della Falsa Impresa</span>
                        </div>
                        <div class="form-group">
                            <label for="company-name">Nome della societ√†/piattaforma truffaldina *</label>
                            <input type="text" id="company-name" placeholder="Es: FalsoTradingPro, CryptoScamLtd" required>
                            <div class="info-box">
                                <strong>Importante:</strong> Inserisci il nome ESATTO come appare sul sito web o nei documenti ricevuti.
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="website-url">URL della pagina web truffaldina *</label>
                            <input type="url" id="website-url" placeholder="https://esempio-truffa.com" required>
                            <div class="info-box">
                                <strong>Tip:</strong> Incolla l'URL completo (incluso https://). Se il sito √® stato chiuso, inserisci l'ultimo URL conosciuto.
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="company-registration">Nr. Registro Imprese dichiarato</label>
                                <input type="text" id="company-registration" placeholder="Es: UK123456789, IT-REA-987654">
                            </div>
                            <div class="form-group">
                                <label for="financial-authority-reg">Nr. Licenza Autorit√† Finanziaria dichiarata</label>
                                <input type="text" id="financial-authority-reg" placeholder="Es: FCA-123456, CONSOB-XYZ">
                            </div>
                        </div>
                    </div>

                    <!-- SECTION 4: Geographic Location -->
                    <div class="form-section">
                        <div class="form-section-title">
                            <span>üìç</span>
                            <span>Sede Geografica Dichiarata (per Mappa)</span>
                        </div>
                        <div class="form-group">
                            <label for="declared-address">Indirizzo completo dichiarato nel sito web</label>
                            <textarea id="declared-address" rows="2" placeholder="Es: 123 Fake Street, London EC1A 1BB, United Kingdom"></textarea>
                            <div class="info-box">
                                <strong>üó∫Ô∏è Gamificazione:</strong> Questo indirizzo apparir√† come <strong>pin rosso</strong> sulla Mappa Europea delle Truffe. Aiuta altri Argonauti a visualizzare la geografia dell'inganno.
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="declared-city">Citt√† dichiarata</label>
                                <input type="text" id="declared-city" placeholder="Es: Londra, Cipro, Malta">
                            </div>
                            <div class="form-group">
                                <label for="declared-country">Paese dichiarato</label>
                                <select id="declared-country">
                                    <option value="">Seleziona...</option>
                                    <option value="UK">Regno Unito</option>
                                    <option value="CY">Cipro</option>
                                    <option value="MT">Malta</option>
                                    <option value="BG">Bulgaria</option>
                                    <option value="EE">Estonia</option>
                                    <option value="LT">Lituania</option>
                                    <option value="CH">Svizzera</option>
                                    <option value="LU">Lussemburgo</option>
                                    <option value="IE">Irlanda</option>
                                    <option value="NL">Paesi Bassi</option>
                                    <option value="HK">Hong Kong</option>
                                    <option value="SG">Singapore</option>
                                    <option value="AU">Australia</option>
                                    <option value="OTHER">Altro paese</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- SECTION 5: MT4/MT5 Platform Details -->
                    <div class="form-section">
                        <div class="form-section-title">
                            <span>üìä</span>
                            <span>Dettagli Piattaforma Trading (MT4/MT5)</span>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="mt4-account">Numero Account MT4/MT5 assegnato</label>
                                <input type="text" id="mt4-account" placeholder="Es: 123456789">
                            </div>
                            <div class="form-group">
                                <label for="mt4-server">Nome Server MT4/MT5</label>
                                <input type="text" id="mt4-server" placeholder="Es: FakeBroker-Demo, ScamServer-Live">
                            </div>
                        </div>
                        <div class="info-box">
                            <strong>Dove trovare questi dati:</strong> Apri MT4/MT5 ‚Üí Menu "Strumenti" ‚Üí "Opzioni" ‚Üí Tab "Server". Il nome server √® visualizzato in alto a destra nella piattaforma.
                        </div>
                    </div>

                    <!-- SECTION 6: Contact Methods -->
                    <div class="form-section">
                        <div class="form-section-title">
                            <span>üì±</span>
                            <span>Metodi di Contatto dei Truffatori</span>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="whatsapp-number">Numero WhatsApp utilizzato</label>
                                <input type="tel" id="whatsapp-number" placeholder="+44 7700 123456">
                                <div class="info-box">
                                    Includi il prefisso internazionale (es: +44 per UK, +357 per Cipro)
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="phone-numbers">Altri numeri telefonici</label>
                                <input type="text" id="phone-numbers" placeholder="Separa con virgole se multipli">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="scammer-emails">Email dei "consulenti" truffatori</label>
                            <textarea id="scammer-emails" rows="3" placeholder="Es: fake.advisor@scam.com, support@falsebroker.net (separa con virgole se multiple)"></textarea>
                        </div>
                    </div>

                    <!-- SECTION 7: Email Headers (Collapsible) -->
                    <div class="collapsible-section">
                        <div class="collapsible-header" onclick="toggleCollapsible(this)">
                            <span>üìß Istruzioni: Come Estrarre il Codice Sorgente delle Email (Avanzato)</span>
                            <span>‚ñº</span>
                        </div>
                        <div class="collapsible-content">
                            <p style="margin-bottom: 1rem;"><strong>Perch√© √® importante:</strong> Gli header delle email rivelano il <strong>server di origine reale</strong>, l'indirizzo IP del mittente, e possono smascherare l'identit√† nascosta dei truffatori.</p>

                            <h4 style="color: var(--odyssey-blue); margin-top: 1rem;">üì© Gmail (Desktop)</h4>
                            <ol style="margin-left: 1.5rem; line-height: 1.8;">
                                <li>Apri l'email del truffatore</li>
                                <li>Clicca sui tre puntini verticali (‚ãÆ) in alto a destra</li>
                                <li>Seleziona <strong>"Mostra originale"</strong></li>
                                <li>Si apre una nuova scheda con il codice sorgente completo</li>
                                <li>Copia tutto il testo e incollalo nel campo sottostante</li>
                            </ol>

                            <h4 style="color: var(--odyssey-blue); margin-top: 1rem;">üìß Outlook (Desktop)</h4>
                            <ol style="margin-left: 1.5rem; line-height: 1.8;">
                                <li>Apri l'email</li>
                                <li>Clicca su <strong>File</strong> ‚Üí <strong>Propriet√†</strong></li>
                                <li>Nella sezione "Intestazioni Internet", copia tutto il testo</li>
                                <li>Oppure: Doppio clic sull'email ‚Üí Messaggio ‚Üí Azioni ‚Üí Visualizza origine messaggio</li>
                            </ol>

                            <h4 style="color: var(--odyssey-blue); margin-top: 1rem;">üçé Apple Mail (Mac/iPhone)</h4>
                            <ol style="margin-left: 1.5rem; line-height: 1.8;">
                                <li>Apri l'email</li>
                                <li>Seleziona <strong>Visualizza</strong> ‚Üí <strong>Messaggio</strong> ‚Üí <strong>Tutti gli header</strong></li>
                                <li>Copia il testo visualizzato</li>
                            </ol>

                            <div class="code-example" style="margin-top: 1rem;">
Esempio di header email da cercare:

<strong>Received: from</strong> scam-server.com (123.45.67.89)
<strong>Return-Path:</strong> &lt;real-scammer@hidden-domain.com&gt;
<strong>X-Originating-IP:</strong> [123.45.67.89]
<strong>Authentication-Results:</strong> spf=fail smtp.mailfrom=scam.com
                            </div>

                            <div class="form-group" style="margin-top: 1.5rem;">
                                <label for="email-headers">Incolla qui il codice sorgente completo dell'email</label>
                                <textarea id="email-headers" rows="6" placeholder="Received: from mail.scam-broker.com by...&#10;Return-Path: <advisor@fake.com>&#10;..."></textarea>
                            </div>
                        </div>
                    </div>

                    <!-- SECTION 8: Additional Evidence -->
                    <div class="form-section" style="margin-top: 1.5rem;">
                        <div class="form-section-title">
                            <span>üìé</span>
                            <span>Prove Aggiuntive e Note</span>
                        </div>
                        <div class="form-group">
                            <label for="additional-info">Screenshots, documenti, cronologia (descrizione)</label>
                            <textarea id="additional-info" rows="4" placeholder="Descrivi qui qualsiasi altra prova in tuo possesso: screenshot della piattaforma, chat WhatsApp, contratti falsi, email ricevute. NON inviare file qui, descrivili solo. Ti contatteremo separatamente per l'invio sicuro."></textarea>
                        </div>
                    </div>

                    <!-- SECTION 9: Your Odyssey Story -->
                    <div class="form-section">
                        <div class="form-section-title">
                            <span>üìñ</span>
                            <span>La Tua Odissea (Opzionale ma Potente)</span>
                        </div>
                        <div class="form-group">
                            <label for="story">Racconta il tuo viaggio</label>
                            <textarea id="story" rows="6" placeholder="Come sei stato contattato? Quali promesse ti hanno fatto? Come hai capito di essere stato truffato? Quali passi hai fatto per reagire? La tua storia pu√≤ salvare altri marinai dalle Sirene."></textarea>
                        </div>
                    </div>

                    <!-- SECTION 10: Contact -->
                    <div class="form-section">
                        <div class="form-section-title">
                            <span>üìß</span>
                            <span>Rimani in Contatto (Opzionale)</span>
                        </div>
                        <div class="form-group">
                            <label for="contact">La tua email</label>
                            <input type="email" id="contact" placeholder="Solo se vuoi aggiornamenti sulla segnalazione">
                            <div class="info-box">
                                <strong>Privacy:</strong> La tua email NON sar√† mai condivisa. Verr√† usata solo per aggiornarti sul progresso della segnalazione e su sviluppi legali rilevanti.
                            </div>
                        </div>
                    </div>

                    <button type="submit" class="submit-button">üö¢ INVIA SEGNALAZIONE E AGGIUNGI PIN ALLA MAPPA</button>
                </form>
            </div>
        </section>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-links">
            <a href="index.html">Database Autorit√† Finanziarie</a>
            <a href="#viaggio">Il Viaggio dell'Eroe</a>
            <a href="#prove">Le Prove Mitologiche</a>
            <a href="#mappa">Mappa Truffe</a>
            <a href="#argonauti">Ranghi Argonauti</a>
        </div>
        <p style="margin-top: 2rem; opacity: 0.8;">
            üåä "Polytropos" - L'uomo dai mille inganni, come Ulisse, sar√† chi sconfigge i truffatori
        </p>
        <p style="margin-top: 1rem; font-size: 0.9rem; opacity: 0.7;">
            ¬© 2026 Odissea Digitale - Basato sul "Viaggio dell'Eroe" di Joseph Campbell
        </p>
    </footer>

    <!-- Leaflet Map JavaScript -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" 
            integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" 
            crossorigin=""></script>

    <script>
        // European Scam Map Initialization
        let scamMap;
        let markersLayer;

        function initializeMap() {
            // Center on Europe
            scamMap = L.map('scam-map').setView([50.0, 10.0], 4);

            // OpenStreetMap tiles
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '¬© OpenStreetMap contributors',
                maxZoom: 18
            }).addTo(scamMap);

            // Markers layer
            markersLayer = L.layerGroup().addTo(scamMap);

            // Load existing reports
            loadMapReports();
        }

        function loadMapReports() {
            const reports = JSON.parse(localStorage.getItem('odysseyReports') || '[]');
            let totalAmount = 0;
            let countriesSet = new Set();
            let argonautsSet = new Set();

            reports.forEach(report => {
                if (report.latitude && report.longitude) {
                    addMarkerToMap(report);
                }
                
                if (report.amountLost) {
                    totalAmount += parseInt(report.amountLost) || 0;
                }
                
                if (report.declaredCountry) {
                    countriesSet.add(report.declaredCountry);
                }
                
                if (report.contact) {
                    argonautsSet.add(report.contact);
                }
            });

            // Update stats
            document.getElementById('total-reports').textContent = reports.length;
            document.getElementById('countries-affected').textContent = countriesSet.size;
            document.getElementById('total-amount-lost').textContent = '‚Ç¨' + totalAmount.toLocaleString('it-IT');
            document.getElementById('argonauts-count').textContent = argonautsSet.size || reports.length;
        }

        function addMarkerToMap(report) {
            const marker = L.marker([report.latitude, report.longitude], {
                icon: L.icon({
                    iconUrl: 'https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',
                    shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png',
                    iconSize: [25, 41],
                    iconAnchor: [12, 41],
                    popupAnchor: [1, -34],
                    shadowSize: [41, 41]
                })
            });

            const popupContent = `
                <div class="popup-title">üö® ${report.companyName || 'Truffa Segnalata'}</div>
                <div class="popup-info"><strong>Tipo:</strong> ${getScamTypeLabel(report.scamType)}</div>
                ${report.websiteUrl ? `<div class="popup-info"><strong>Sito:</strong> <a href="${report.websiteUrl}" target="_blank" rel="noopener">${report.websiteUrl}</a></div>` : ''}
                ${report.declaredAddress ? `<div class="popup-info"><strong>Sede dichiarata:</strong> ${report.declaredAddress}</div>` : ''}
                ${report.amountLost ? `<div class="popup-info"><strong>Importo:</strong> ‚Ç¨${parseInt(report.amountLost).toLocaleString('it-IT')}</div>` : ''}
                ${report.whatsappNumber ? `<div class="popup-info"><strong>WhatsApp:</strong> ${report.whatsappNumber}</div>` : ''}
                <div class="popup-info" style="margin-top: 0.5rem; font-size: 0.8rem; color: #64748b;">Segnalato: ${new Date(report.timestamp).toLocaleDateString('it-IT')}</div>
            `;

            marker.bindPopup(popupContent);
            marker.addTo(markersLayer);
        }

        function getScamTypeLabel(type) {
            const labels = {
                'forex': 'Trading Forex/CFD',
                'crypto': 'Criptovalute',
                'broker': 'Broker non autorizzato',
                'ponzi': 'Schema Ponzi',
                'romance': 'Romance Scam',
                'phishing': 'Phishing',
                'investment': 'Falsi investimenti',
                'other': 'Altro'
            };
            return labels[type] || type;
        }

        // Geocoding function (simple country capitals fallback)
        async function geocodeAddress(address, city, country) {
            // Country capital coordinates (fallback se geocoding API non disponibile)
            const countryCapitals = {
                'UK': [51.5074, -0.1278],
                'CY': [35.1264, 33.4299],
                'MT': [35.8989, 14.5146],
                'BG': [42.6977, 23.3219],
                'EE': [59.4370, 24.7536],
                'LT': [54.6872, 25.2797],
                'CH': [46.9480, 7.4474],
                'LU': [49.6116, 6.1319],
                'IE': [53.3498, -6.2603],
                'NL': [52.3676, 4.9041],
                'HK': [22.3193, 114.1694],
                'SG': [1.3521, 103.8198],
                'AU': [-33.8688, 151.2093]
            };

            // Try nominatim API for precise geocoding
            if (address && city) {
                try {
                    const query = encodeURIComponent(`${address}, ${city}`);
                    const response = await fetch(`https://nominatim.openstreetmap.org/search?q=${query}&format=json&limit=1`);
                    const data = await response.json();
                    
                    if (data && data.length > 0) {
                        return [parseFloat(data[0].lat), parseFloat(data[0].lon)];
                    }
                } catch (error) {
                    console.log('Geocoding fallback to country capital');
                }
            }

            // Fallback to country capital
            return countryCapitals[country] || [50.0, 10.0]; // Default Europe center
        }

        // Collapsible section toggle
        function toggleCollapsible(header) {
            const content = header.nextElementSibling;
            content.classList.toggle('active');
            const arrow = header.querySelector('span:last-child');
            arrow.textContent = content.classList.contains('active') ? '‚ñ≤' : '‚ñº';
        }

        // Progress Tracking System
        function updateProgress() {
            const checkboxes = document.querySelectorAll('.phase-checkbox input[type="checkbox"]');
            let completed = 0;
            let currentPhase = 0;

            checkboxes.forEach((checkbox, index) => {
                const phaseContent = checkbox.closest('.phase-content');
                
                if (checkbox.checked) {
                    completed++;
                    phaseContent.classList.add('completed');
                    phaseContent.classList.remove('current');
                } else {
                    phaseContent.classList.remove('completed');
                    if (currentPhase === 0) {
                        currentPhase = index + 1;
                        phaseContent.classList.add('current');
                    }
                }
            });

            // Update stats
            document.getElementById('completed-phases').textContent = completed;
            
            // Update badge based on progress
            let badge = 'Marinaio';
            let badgeId = 'badge-marinaio';
            
            if (completed >= 12) {
                badge = 'üëë Eroe';
                badgeId = 'badge-eroe';
            } else if (completed >= 9) {
                badge = 'üõ°Ô∏è Argonauta';
                badgeId = 'badge-argonauta';
            } else if (completed >= 6) {
                badge = '‚öì Timoniere';
                badgeId = 'badge-timoniere';
            }
            
            document.getElementById('current-badge').textContent = badge;
            
            // Highlight current badge
            document.querySelectorAll('.badge-card').forEach(card => {
                card.classList.remove('unlocked');
            });
            document.getElementById(badgeId).classList.add('unlocked');

            // Save progress to localStorage
            saveProgress();
        }

        // Save progress to localStorage
        function saveProgress() {
            const progress = [];
            document.querySelectorAll('.phase-checkbox input[type="checkbox"]').forEach((checkbox, index) => {
                progress.push(checkbox.checked);
            });
            localStorage.setItem('odysseyProgress', JSON.stringify(progress));
        }

        // Load progress from localStorage
        function loadProgress() {
            const saved = localStorage.getItem('odysseyProgress');
            if (saved) {
                const progress = JSON.parse(saved);
                document.querySelectorAll('.phase-checkbox input[type="checkbox"]').forEach((checkbox, index) => {
                    if (progress[index]) {
                        checkbox.checked = true;
                    }
                });
                updateProgress();
            }
        }

        // Form submission handler
        document.getElementById('odyssey-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const formData = {
                // Phase & Type
                phase: document.getElementById('current-phase').value,
                scamType: document.getElementById('scam-type').value,
                amountLost: document.getElementById('amount-lost').value,
                
                // Company Details
                companyName: document.getElementById('company-name').value,
                websiteUrl: document.getElementById('website-url').value,
                companyRegistration: document.getElementById('company-registration').value,
                financialAuthorityReg: document.getElementById('financial-authority-reg').value,
                
                // Geographic
                declaredAddress: document.getElementById('declared-address').value,
                declaredCity: document.getElementById('declared-city').value,
                declaredCountry: document.getElementById('declared-country').value,
                
                // MT4/MT5
                mt4Account: document.getElementById('mt4-account').value,
                mt4Server: document.getElementById('mt4-server').value,
                
                // Contact Methods
                whatsappNumber: document.getElementById('whatsapp-number').value,
                phoneNumbers: document.getElementById('phone-numbers').value,
                scammerEmails: document.getElementById('scammer-emails').value,
                emailHeaders: document.getElementById('email-headers').value,
                
                // Additional
                additionalInfo: document.getElementById('additional-info').value,
                story: document.getElementById('story').value,
                contact: document.getElementById('contact').value,
                
                timestamp: new Date().toISOString()
            };

            // Geocode address for map
            if (formData.declaredCountry) {
                const coords = await geocodeAddress(
                    formData.declaredAddress, 
                    formData.declaredCity, 
                    formData.declaredCountry
                );
                formData.latitude = coords[0];
                formData.longitude = coords[1];
            }

            // Save to localStorage (in produzione: inviare a backend)
            let reports = JSON.parse(localStorage.getItem('odysseyReports') || '[]');
            reports.push(formData);
            localStorage.setItem('odysseyReports', JSON.stringify(reports));

            // Update trials counter
            document.getElementById('trials-overcome').textContent = reports.length;

            // Add marker to map
            if (formData.latitude && formData.longitude) {
                addMarkerToMap(formData);
                loadMapReports(); // Refresh stats
            }

            alert(`üö¢ Benvenuto nella flotta degli Argonauti!

La tua segnalazione √® stata registrata con successo.
${formData.declaredCountry ? '\nüìç Un nuovo pin rosso √® apparso sulla Mappa Europea delle Truffe!' : ''}

Riceverai aggiornamenti sulla tua email.

Ricorda: come Ulisse, la strada √® lunga ma Itaca ti aspetta.`);
            
            this.reset();
            
            // Scroll to map
            if (formData.latitude) {
                document.getElementById('mappa').scrollIntoView({ behavior: 'smooth' });
            }
        });

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            loadProgress();
            
            // Load trials count from localStorage
            const reports = JSON.parse(localStorage.getItem('odysseyReports') || '[]');
            document.getElementById('trials-overcome').textContent = reports.length;
            
            // Initialize map
            initializeMap();
        });

        // Service Worker Registration
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('service-worker.js')
                .then(reg => console.log('Service Worker registered'))
                .catch(err => console.log('Service Worker registration failed'));
        }
    </script>
</body>
</html>
